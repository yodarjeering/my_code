# 仕様書


## 株取引における種々のコード
本研究では, 短期間 (1か月以内) における株取引で, 従来手法を上回る収益を出す戦略を過去データによるシミュレーションによって構築する.
<br>

## 動作環境

OS : Windows 11以上
<br>

## 準備
以下のツールを必要とする.

<li> Python3
<li> matplotlib
<li> numpy
<li> seaborn
<li> scipy
<li> pandas 
<li> pickle
<li> xgboost
<li> glob
<li> sklearn
<br>
<br>
基本的に以下のようにインストールする
<br>
<br>

```bash
pip install huga_package
```

Python3は Anaconda 環境をインストールして, pip コマンドを使えるようにする.
## ディレクトリ構成

```bash
my_code
├─data
│  └─raw
├─funcs
├─modules
│  │  
│  ├─constants
│  │  
│  ├─funcs
│  │  
│  ├─preparing
│  │  
│  ├─preprocessing
│  │  
│  ├─simulation
│  │  
│  └─training
│      
└─pickles
│      
└─main.ipynb
```
## 各ディレクトリ, ファイル説明

* main.ipynb : simulationの仕方, 各機械学習モデルの学習方法などを記載したファイル. 研究の際は, このファイルを使って検証を行う.
* data : 株価データを保存したcsvファイルのあるディレクトリ. 筆者は松井証券からダウンロードしたものを利用した. investing.com　というサイトから無料でかなりのデータを引っ張ってこれるので, こちらのサイトはおすすめ . ただし, 松井証券版のデータとの互換性がないため, main.ipynbに記載した変換を行う必要あり. ( https://jp.investing.com/indices/topix-iron---steel-historical-data ) 
* constants : よく使う定数などを記載したディレクトリ. 定数の種別でファイルを分けている.
* funcs : modules直下のfuncsを使うべし. 未実装
* preparing : 未実装
* preprocessing : 学習用データ作成のプログラムをまとめたディレクトリ. 
* simulation : 各モデル毎のシミュレーションをまとめたディレクトリ.
* training : 各モデルの学習法などをまとめたディレクトリ.
* pickles : 各モデルや実行結果のpickleファイルをまとめたディレクトリ.


## 使用法

主にmain.ipynbに使用法を記載している. そちらを参照されたい. 

## 注意事項

かなりスパゲティなコードになっているため, 関数の呼び出す順序によってはエラーになる場合あり.
必ずしも, ディレクトリごとにまとめたファイルが, ディレクトリ名の役割と一致するとは限らない.
ソースコードのリファクタリングは, 後任に期待するところ大である.

## Author

作成情報

* 作成者 : 依田倫太朗
* 明治大学大学院2022年度修了
* github : https://github.com/yodarjeering/my_code

## 参考文献

  1.   執行戦略と取引コストに関する研究の進展 <br> 売買戦略について詳細にまとめてある. 方針が経たないうちは熟読すべし. 筆者はかなり参考にした. https://www.imes.boj.or.jp/research/papers/japanese/kk31-1-8.pdf

  2. Famaさんの論文 <br>  株を研究テーマにするなら読みましょう. 短期投資ではインデックス投資に勝てませんよ, という話.　https://www.jstor.org/stable/2325486

  ## 経済系の研究の所感
  筆者が経済知識ゼロから研究したしくじりなどをまとめる.

  * 論文をあまり読まなかった <br>
  先行研究など, あまり調べなかった. 短期投資に焦点を当てた点や, ローパスフィルタを用いて戦略選択をするという新規性は, かなり後になって生まれた. 経済系の研究を行う後任者は, 方針を決める前には, たくさん論文を読み, 新規性などよくよく考えて研究をされたし.
  * 研究の進め方　<br>
  やはり理論が大事. 機械学習より前に, 相関係数であったり, ヒストグラムであったり, 単回帰分析などローテクな技術から研究を始めるべし.
  * 株はきつい <br>
  株の売買戦略などはきつい. 筆者はBitcoinの自動売買などもしたが, 短期取引はかなりきつい. 結局インデックス投資には勝てなかった. 競馬予測は結構いけそう. 